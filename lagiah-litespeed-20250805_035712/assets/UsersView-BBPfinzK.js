import{U,d as q,r as p,y as F,p as D,e as d,f as g,a as e,t as m,h as X,b as k,v as M,n as S,z as W,s as O,g as b,o as i,l as Z,m as ee,c as te,q as se,F as R,x as T}from"./index-CCw3ahY3.js";class oe{async getUsers(u){try{const s=new URLSearchParams;u?.page&&s.append("page",u.page.toString()),u?.limit&&s.append("limit",u.limit.toString()),u?.search&&s.append("search",u.search),u?.role&&s.append("role",u.role);const a=await U.getUsers(u);if(a&&a.status==="success"&&a.data)return a.data;throw new Error(a?.message||"Failed to fetch users")}catch(s){throw console.error("Error fetching users:",s),s}}async createUser(u){try{const s=await U.createUser(u);if(s&&s.status==="success"&&s.data)return s.data;throw new Error(s?.message||"Failed to create user")}catch(s){throw new Error(s.response?.data?.message||"Failed to create user")}}async updateUser(u,s){try{const a=await U.updateUser(u,s);if(a&&a.status==="success"&&a.data)return a.data;throw new Error(a?.message||"Failed to update user")}catch(a){throw new Error(a.response?.data?.message||"Failed to update user")}}async deleteUser(u){try{const s=await U.deleteUser(u);if(s&&s.status==="success"&&s.data)return s;throw new Error(s?.message||"Failed to delete user")}catch(s){throw new Error(s.response?.data?.message||"Failed to delete user")}}async getUserById(u){try{const s=await U.getUser(u);if(s&&s.status==="success"&&s.data)return s;throw new Error(s?.message||"Failed to fetch user")}catch(s){throw console.error("Error fetching user:",s),s}}}const j=new oe,re={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},le={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ne={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},ae={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ie={class:"sm:flex sm:items-start"},de={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},ue={class:"text-lg leading-6 font-medium text-gray-900"},ce={class:"mt-4"},me=["disabled"],pe={key:0},ve={key:1},fe={key:2,class:"text-red-600 text-sm"},xe={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},ge=["disabled"],we={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ye=["disabled"],he=q({__name:"AddEditUserModal",props:{isOpen:{type:Boolean},user:{default:null}},emits:["close","userCreated","userUpdated"],setup(B,{emit:u}){const s=B,a=u,v=p(!1),w=p(null),n=p({name:"",email:"",role:"",password:"",confirmPassword:""}),h=F(()=>!!s.user),f=()=>{n.value={name:"",email:"",role:"",password:"",confirmPassword:""},w.value=null},x=c=>{c?n.value={name:c.name||"",email:c.email||"",role:c.role||"VIEWER",password:"",confirmPassword:""}:n.value={name:"",email:"",role:"VIEWER",password:"",confirmPassword:""}},C=async()=>{if(n.value){v.value=!0,w.value=null;try{let c;if(h.value){const r={name:n.value.name,email:n.value.email,role:n.value.role};c=await j.updateUser(s.user.id,r)}else{const r={name:n.value.name,email:n.value.email,role:n.value.role,password:n.value.password};c=await j.createUser(r)}a("userUpdated",c.user),a("close")}catch(c){w.value=c.message||"An error occurred while saving the user"}finally{v.value=!1}}},A=()=>{a("close"),f()};return D(()=>s.isOpen,c=>{c&&x(s.user)}),D(()=>s.user,c=>{s.isOpen&&x(c)}),(c,r)=>c.isOpen?(i(),d("div",re,[e("div",le,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:A}),e("div",ne,[e("div",ae,[e("div",ie,[r[11]||(r[11]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-primary-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",de,[e("h3",ue,m(h.value?"Edit User":"Add New User"),1),e("div",ce,[e("form",{onSubmit:X(C,["prevent"]),class:"space-y-4"},[e("div",null,[r[5]||(r[5]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),k(e("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=y=>n.value.name=y),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm",placeholder:"Enter full name"},null,512),[[M,n.value.name]])]),e("div",null,[r[6]||(r[6]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1)),k(e("input",{id:"email","onUpdate:modelValue":r[1]||(r[1]=y=>n.value.email=y),type:"email",required:"",disabled:h.value,class:S(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm",{"bg-gray-50":h.value}]),placeholder:"Enter email address"},null,10,me),[[M,n.value.email]])]),e("div",null,[r[8]||(r[8]=e("label",{for:"role",class:"block text-sm font-medium text-gray-700"},"Role",-1)),k(e("select",{id:"role","onUpdate:modelValue":r[2]||(r[2]=y=>n.value.role=y),required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm"},r[7]||(r[7]=[O('<option value="">Select a role</option><option value="ADMIN">Admin</option><option value="STAFF">Staff</option><option value="FINANCE">Finance</option><option value="VIEWER">Viewer</option>',5)]),512),[[W,n.value.role]])]),h.value?g("",!0):(i(),d("div",pe,[r[9]||(r[9]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1)),k(e("input",{id:"password","onUpdate:modelValue":r[3]||(r[3]=y=>n.value.password=y),type:"password",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm",placeholder:"Enter password"},null,512),[[M,n.value.password]])])),h.value?g("",!0):(i(),d("div",ve,[r[10]||(r[10]=e("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700"},"Confirm Password",-1)),k(e("input",{id:"confirmPassword","onUpdate:modelValue":r[4]||(r[4]=y=>n.value.confirmPassword=y),type:"password",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm",placeholder:"Confirm password"},null,512),[[M,n.value.confirmPassword]])])),w.value?(i(),d("div",fe,m(w.value),1)):g("",!0)],32)])])])]),e("div",xe,[e("button",{type:"button",onClick:C,disabled:v.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},[v.value?(i(),d("svg",we,r[12]||(r[12]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):g("",!0),b(" "+m(v.value?"Saving...":h.value?"Update User":"Create User"),1)],8,ge),e("button",{type:"button",onClick:A,disabled:v.value,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"}," Cancel ",8,ye)])])])])):g("",!0)}}),be={class:"space-y-6"},ke={class:"bg-white shadow-sm rounded-lg"},Ce={class:"px-4 sm:px-6 py-4 border-b border-gray-200"},_e={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},Ue={class:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-3"},Me={class:"w-full sm:w-80 lg:w-96"},Ae={class:"relative"},Ee=["placeholder"],Fe={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center"},Se={class:"flex items-center space-x-2"},je={class:"flex items-center space-x-2"},Be=["disabled"],$e={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Ve={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},Pe={class:"flex items-center space-x-4"},Ne={class:"flex items-center"},ze={class:"text-sm font-medium text-blue-900"},Ie={class:"flex flex-wrap items-center space-x-2"},Le={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},He={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},De={class:"bg-white shadow-lg rounded-lg overflow-hidden"},Re={key:0,class:"p-8 text-center"},Te={key:1,class:"p-8 text-center"},qe={class:"text-red-600 mb-4"},We={class:"mt-1"},Oe={key:2},Ge={class:"hidden lg:block overflow-x-auto"},Ye={class:"min-w-full divide-y divide-gray-200"},Je={class:"bg-white divide-y divide-gray-200"},Ke={class:"px-6 py-4 whitespace-nowrap"},Qe={class:"flex items-center"},Xe={class:"flex-shrink-0 h-10 w-10"},Ze={class:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center"},et={class:"text-sm font-medium text-primary-600"},tt={class:"ml-4"},st={class:"text-sm font-medium text-gray-900"},ot={class:"text-sm text-gray-500"},rt={class:"px-6 py-4 whitespace-nowrap"},lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},nt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},at={class:"flex items-center justify-end space-x-2"},it=["onClick"],dt=["onClick"],ut={class:"lg:hidden"},ct={class:"space-y-4 p-4"},mt={class:"flex items-center justify-between"},pt={class:"flex items-center space-x-3"},vt={class:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center"},ft={class:"text-sm font-medium text-primary-600"},xt={class:"text-sm font-medium text-gray-900"},gt={class:"text-sm text-gray-500"},wt={class:"flex items-center space-x-2 mt-1"},yt={class:"flex items-center space-x-2"},ht=["onClick"],bt=["onClick"],kt={key:3,class:"p-8 text-center"},Ct={class:"text-gray-500 mb-4"},_t={class:"mt-1 text-sm"},Ut={class:"flex flex-col space-y-4 items-center"},At=q({__name:"UsersView",setup(B){const u=Z(),s=p([]),a=p(!1),v=p(null),w=p(!1),n=p(null),h=p(null),f=p(""),x=p(""),C=p(1),A=p(10),c=p(0),r=p(0),y=F(()=>"Search names and emails..."),_=F(()=>{let l=s.value;if(f.value&&f.value.trim()){const t=f.value.toLowerCase().trim();l=l.filter(o=>o.name.toLowerCase().includes(t)||o.email.toLowerCase().includes(t))}return x.value&&(l=l.filter(t=>t.role===x.value)),l}),N=()=>{f.value=""},z=()=>{f.value="",x.value=""},$=F(()=>f.value||x.value),G=()=>{},Y=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),E=async()=>{a.value=!0,v.value=null;try{const l=await j.getUsers({page:C.value,limit:A.value});l&&l.items?(s.value=l.items,c.value=l.pagination.total,r.value=l.pagination.totalPages,C.value=l.pagination.page):v.value="Invalid response format from server"}catch{v.value="Failed to load users. Please try again."}finally{a.value=!1}};ee(()=>{E()});const I=()=>{n.value=null,w.value=!0},L=l=>{n.value=l,w.value=!0},V=()=>{w.value=!1,n.value=null,h.value=null},J=l=>{s.value.unshift(l),V(),alert("User created successfully!")},K=l=>{const t=s.value.findIndex(o=>o.id===l.id);t!==-1&&(s.value[t]=l),V(),alert("User updated successfully!")},H=l=>{confirm("Are you sure you want to delete this user? This action cannot be undone.")&&Q(l.id)},Q=async l=>{try{const t=await j.deleteUser(l);if(t&&t.status==="success")s.value=s.value.filter(o=>o.id!==l),alert("User deleted successfully!"),await E();else throw new Error("Failed to delete user - unexpected response format")}catch{v.value="Failed to delete user. Please try again.",alert("Failed to delete user. Please try again.")}};return(l,t)=>(i(),d("div",be,[e("div",ke,[e("div",Ce,[e("div",_e,[t[13]||(t[13]=e("div",null,[e("h1",{class:"text-xl sm:text-2xl font-bold text-gray-900"},"User Management"),e("p",{class:"mt-1 text-sm text-gray-500"},"Manage user accounts and permissions")],-1)),e("div",Ue,[e("div",Me,[e("div",Ae,[t[8]||(t[8]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),k(e("input",{id:"search","onUpdate:modelValue":t[0]||(t[0]=o=>f.value=o),type:"text",class:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-sm",placeholder:y.value,"aria-label":"Search users"},null,8,Ee),[[M,f.value]]),f.value?(i(),d("div",Fe,[e("button",{onClick:N,class:"text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600",title:"Clear search"},t[7]||(t[7]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])):g("",!0)]),t[9]||(t[9]=e("div",{class:"mt-1 text-xs text-gray-500"},[e("span",null,"Search names and emails")],-1))]),e("div",Se,[k(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>x.value=o),onChange:G,class:"block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm"},t[10]||(t[10]=[O('<option value="">All Roles</option><option value="ADMIN">Admin</option><option value="STAFF">Staff</option><option value="FINANCE">Finance</option><option value="VIEWER">Viewer</option>',5)]),544),[[W,x.value]])]),e("div",je,[e("button",{onClick:t[2]||(t[2]=o=>E()),disabled:a.value,class:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200 disabled:opacity-50",title:"Refresh users"},[(i(),d("svg",{class:S([a.value?"animate-spin":"","h-4 w-4"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[11]||(t[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]),2))],8,Be),se(u).canAccessUsers?(i(),d("button",{key:0,onClick:t[3]||(t[3]=o=>I()),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200"},t[12]||(t[12]=[e("svg",{class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),b(" Add User ")]))):g("",!0)])])])])]),$.value?(i(),d("div",$e,[e("div",Ve,[e("div",Pe,[e("div",Ne,[t[14]||(t[14]=e("svg",{class:"h-5 w-5 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),e("span",ze," Search Results: "+m(_.value.length)+" users found ",1)]),e("div",Ie,[f.value?(i(),d("span",Le,[b(' Search: "'+m(f.value)+'" ',1),e("button",{onClick:N,class:"ml-1 text-blue-600 hover:text-blue-800"},t[15]||(t[15]=[e("svg",{class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])):g("",!0),x.value?(i(),d("span",He,[b(" Role: "+m(x.value)+" ",1),e("button",{onClick:t[4]||(t[4]=o=>{x.value=""}),class:"ml-1 text-green-600 hover:text-green-800"},t[16]||(t[16]=[e("svg",{class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])):g("",!0)])]),e("button",{onClick:z,class:"mt-2 sm:mt-0 inline-flex items-center px-3 py-1 border border-blue-300 text-xs font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},t[17]||(t[17]=[e("svg",{class:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),b(" Clear All Filters ")]))])])):g("",!0),e("div",De,[a.value?(i(),d("div",Re,t[18]||(t[18]=[e("div",{class:"inline-flex items-center"},[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),b(" Loading users... ")],-1)]))):v.value?(i(),d("div",Te,[e("div",qe,[t[19]||(t[19]=e("svg",{class:"mx-auto h-12 w-12 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[20]||(t[20]=e("h3",{class:"text-lg font-medium"},"Error loading users",-1)),e("p",We,m(v.value),1)]),e("button",{onClick:t[5]||(t[5]=o=>E()),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700"},t[21]||(t[21]=[e("svg",{class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),b(" Try Again ")]))])):!a.value&&!v.value&&_.value.length>0?(i(),d("div",Oe,[e("div",Ge,[e("table",Ye,[t[25]||(t[25]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," User "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Role "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created "),e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",Je,[(i(!0),d(R,null,T(_.value,o=>(i(),d("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",Ke,[e("div",Qe,[e("div",Xe,[e("div",Ze,[e("span",et,m(o.name?.charAt(0).toUpperCase()||o.email.charAt(0).toUpperCase()),1)])]),e("div",tt,[e("div",st,m(o.name),1),e("div",ot,m(o.email),1)])])]),e("td",rt,[e("span",{class:S(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-green-100 text-green-800":o.role==="ADMIN","bg-blue-100 text-blue-800":o.role==="STAFF","bg-purple-100 text-purple-800":o.role==="FINANCE","bg-gray-100 text-gray-800":o.role==="VIEWER"}])},m(o.role),3)]),t[24]||(t[24]=e("td",{class:"px-6 py-4 whitespace-nowrap"},[e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Active ")],-1)),e("td",lt,m(Y(o.createdAt)),1),e("td",nt,[e("div",at,[e("button",{onClick:P=>L(o),class:"text-primary-600 hover:text-primary-900 transition-colors duration-200",title:"Edit user"},t[22]||(t[22]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,it),e("button",{onClick:P=>H(o),class:"text-red-600 hover:text-red-900 transition-colors duration-200",title:"Delete user"},t[23]||(t[23]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,dt)])])]))),128))])])]),e("div",ut,[e("div",ct,[(i(!0),d(R,null,T(_.value,o=>(i(),d("div",{key:o.id,class:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm"},[e("div",mt,[e("div",pt,[e("div",vt,[e("span",ft,m(o.name?.charAt(0).toUpperCase()||o.email.charAt(0).toUpperCase()),1)]),e("div",null,[e("div",xt,m(o.name),1),e("div",gt,m(o.email),1),e("div",wt,[e("span",{class:S(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",{"bg-green-100 text-green-800":o.role==="ADMIN","bg-blue-100 text-blue-800":o.role==="STAFF","bg-purple-100 text-purple-800":o.role==="FINANCE","bg-gray-100 text-gray-800":o.role==="VIEWER"}])},m(o.role),3),t[26]||(t[26]=e("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Active ",-1))])])]),e("div",yt,[e("button",{onClick:P=>L(o),class:"text-primary-600 hover:text-primary-900 transition-colors duration-200",title:"Edit user"},t[27]||(t[27]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,ht),e("button",{onClick:P=>H(o),class:"text-red-600 hover:text-red-900 transition-colors duration-200",title:"Delete user"},t[28]||(t[28]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,bt)])])]))),128))])])])):_.value.length===0&&!a.value?(i(),d("div",kt,[e("div",Ct,[t[29]||(t[29]=e("svg",{class:"mx-auto h-12 w-12 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1)),t[30]||(t[30]=e("h3",{class:"text-lg font-medium"},"No users found",-1)),e("p",_t,m($.value?"Try adjusting your search or filters.":"Get started by adding your first user."),1)]),e("div",Ut,[$.value?(i(),d("button",{key:0,onClick:z,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50"},t[31]||(t[31]=[e("svg",{class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),b(" Clear All Filters ")]))):(i(),d("button",{key:1,onClick:t[6]||(t[6]=o=>I()),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700"},t[32]||(t[32]=[e("svg",{class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),b(" Add Your First User ")])))])])):g("",!0)]),w.value?(i(),te(he,{key:1,"is-open":w.value,user:n.value,onClose:V,onUserCreated:J,onUserUpdated:K,error:h.value},null,8,["is-open","user","error"])):g("",!0)]))}});export{At as default};
